webpackJsonp([42],{"2GRf":function(t,a,e){"use strict";var r=e("woOf"),i=e.n(r),o=e("FQzT"),s={levelCost:"sp_lc",currentDeposits:"sp_cd",yourParticipation:"sp_yp",otherParticipation:"sp_op",yourArcBonus:"sp_yab",fpTargetReward:"sp_ftr"},c={levelCost:{comparator:[">",0],type:"int"},currentDeposits:{comparator:[">=",0],type:"int"},yourParticipation:{comparator:[">=",0],type:"int"},otherParticipation:{comparator:[">=",0],type:"int"},yourArcBonus:{comparator:[">=",0],type:"float"},fpTargetReward:{comparator:[">=",0],type:"int"}};a.a={name:"SecurePosition",props:{levelData:{type:Object,default:null},canPermalink:{type:Boolean,default:!1}},data:function(){var t={i18nPrefix:"components.secure_position.",fp:0,yourParticipation:0,otherParticipation:0,levelCost:this.haveInputLevelCost()?this.$props.levelData.cost:0,currentDeposits:0,yourArcBonus:void 0===this.$cookies.get("yourArcBonus")?0:this.$cookies.get("yourArcBonus"),fpTargetReward:0,roi:0,formValid:!1,errors:{levelCost:!1,currentDeposits:!1,yourParticipation:!1,otherParticipation:!1,yourArcBonus:!1,fpTargetReward:!1},change:this.haveInputLevelCost()};return i()(t,this.checkQuery()),this.$store.commit("ADD_URL_QUERY",{key:s.levelCost,value:t.levelCost}),this.$store.commit("ADD_URL_QUERY",{key:s.currentDeposits,value:t.currentDeposits}),this.$store.commit("ADD_URL_QUERY",{key:s.yourParticipation,value:t.yourParticipation}),this.$store.commit("ADD_URL_QUERY",{key:s.otherParticipation,value:t.otherParticipation}),this.$store.commit("ADD_URL_QUERY",{key:s.yourArcBonus,value:t.yourArcBonus}),this.$store.commit("ADD_URL_QUERY",{key:s.fpTargetReward,value:t.fpTargetReward}),t},computed:{isPermalink:function(){return this.$store.state.isPermalink},permaLink:function(){return{path:this.$i18n.path("secure-position/"),query:this.$store.state.urlQuery}}},watch:{levelData:function(t){this.$data.change=!0,this.$data.levelCost=t.cost},levelCost:function(t,a){this.$data.change=!0,o.a.handlerForm(this,"levelCost",0===t.length?0:t,a,c.levelCost.comparator)===o.a.FormCheck.VALID&&(this.$store.commit("UPDATE_URL_QUERY",{key:s.levelCost,value:t}),this.calculate())},currentDeposits:function(t,a){this.$data.change=!0,o.a.handlerForm(this,"currentDeposits",0===t.length?0:t,a,c.currentDeposits.comparator)===o.a.FormCheck.VALID&&(this.$store.commit("UPDATE_URL_QUERY",{key:s.currentDeposits,value:t}),this.calculate())},yourParticipation:function(t,a){this.$data.change=!0,o.a.handlerForm(this,"yourParticipation",0===t.length?0:t,a,c.yourParticipation.comparator)===o.a.FormCheck.VALID&&(this.$store.commit("UPDATE_URL_QUERY",{key:s.yourParticipation,value:t}),this.calculate())},otherParticipation:function(t,a){this.$data.change=!0,""===t?this.$data.otherParticipation=0:o.a.handlerForm(this,"otherParticipation",0===t.length?0:t,a,c.otherParticipation.comparator)===o.a.FormCheck.VALID&&(this.$store.commit("UPDATE_URL_QUERY",{key:s.otherParticipation,value:t}),this.calculate())},yourArcBonus:function(t,a){this.$data.change=!0,o.a.handlerForm(this,"yourArcBonus",0===t.length?0:t,a,c.yourArcBonus.comparator,!this.isPermalink,"/","float")===o.a.FormCheck.VALID&&(this.$store.commit("UPDATE_URL_QUERY",{key:s.yourArcBonus,value:t}),this.calculate())},fpTargetReward:function(t,a){this.$data.change=!0,this.haveInputLevelCost()&&(this.$props.levelData.investment.map(function(t){return t.reward}).indexOf(t)>=0?(this.$data.errors.fpTargetReward=!1,this.$store.commit("UPDATE_URL_QUERY",{key:s.fpTargetReward,value:t}),this.calculate()):this.$data.errors.fpTargetReward=!0),o.a.handlerForm(this,"fpTargetReward",0===t.length?0:t,a,c.fpTargetReward.comparator)===o.a.FormCheck.VALID&&(this.$store.commit("UPDATE_URL_QUERY",{key:s.fpTargetReward,value:t}),this.calculate())}},methods:{haveInputLevelCost:function(){return null!==this.$props.levelData},getNumberOfRemainingPoints:function(){return isNaN(this.$data.levelCost)||isNaN(this.$data.currentDeposits)||this.$data.levelCost-this.$data.currentDeposits<0?this.$t("components.secure_position.block_place.unknown"):this.$data.levelCost-this.$data.currentDeposits},calculate:function(){if(this.$data.change&&this.checkFormValid()){var t=Math.ceil((this.$data.levelCost-this.$data.currentDeposits-(this.$data.otherParticipation-this.$data.yourParticipation))/2)+this.$data.otherParticipation;t<=this.$data.otherParticipation?this.$data.fp=-1:(this.$data.fp=t,this.$data.yourArcBonus>=0&&this.$data.fpTargetReward>0&&(this.$data.roi=Math.round((1+this.$data.yourArcBonus/100)*this.$data.fpTargetReward-t)))}},checkFormValid:function(){return this.$data.formValid=!0,this.$data.errors.levelCost=!1,this.$data.errors.currentDeposits=!1,this.$data.errors.yourParticipation=!1,this.$data.errors.otherParticipation=!1,this.$data.levelCost===this.$data.currentDeposits===this.$data.yourParticipation===this.$data.otherParticipation&&0===this.$data.levelCost||(this.$data.levelCost>0||(this.$data.formValid=!1,this.$data.errors.levelCost=!0),this.$data.currentDeposits<this.$data.levelCost||(this.$data.formValid=!1,this.$data.errors.levelCost=!0,this.$data.errors.currentDeposits=!0),this.$data.yourParticipation<this.$data.levelCost||(this.$data.formValid=!1,this.$data.errors.yourParticipation=!0,this.$data.errors.levelCost=!0),this.$data.otherParticipation<this.$data.levelCost||(this.$data.formValid=!1,this.$data.errors.otherParticipation=!0,this.$data.errors.levelCost=!0),this.$data.yourParticipation+this.$data.otherParticipation<=this.$data.currentDeposits||(this.$data.formValid=!1,this.$data.errors.yourParticipation=!0,this.$data.errors.otherParticipation=!0,this.$data.errors.currentDeposits=!0),this.$data.formValid)},haveError:function(t){return this.$data.errors[t]?"is-danger":""},submitSecurePosition:function(){var t=o.a.FormCheck.NO_CHANGE,a=!0;for(var e in c){var r=o.a.handlerForm(this,e,this.$data[e],this.$data[e],c[e].comparator,!1,"",c[e].type);r.state===o.a.FormCheck.VALID?t=a?o.a.FormCheck.VALID:t:r.state===o.a.FormCheck.INVALID&&(a=!1,t=o.a.FormCheck.INVALID)}t!==o.a.FormCheck.INVALID&&this.calculate()},checkQuery:function(){var t={},a=o.a.FormCheck.NO_CHANGE,e=void 0;for(var r in c)(e=o.a.checkFormNumeric(this.$route.query[s[r]],-1,c[r].comparator,c[r].type)).state===o.a.FormCheck.VALID&&(a=o.a.FormCheck.VALID,t[r]=e.value);return a===o.a.FormCheck.VALID&&(this.$store.commit("IS_PERMALINK",!0),t.change=!0),t}},mounted:function(){this.calculate()}}},R8oX:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e("WOES"),i="routes.secure_position.";a.default={head:function(){return this.$store.commit("SET_HERO",{title:i+"hero.title",subtitle:i+"hero.subtitle"}),{title:this.$t(i+"title")}},data:function(){return this.$store.commit("SET_CURRENT_LOCATION","secure_position"),{i18nPrefix:i}},components:{securePosition:r.a}}},WOES:function(t,a,e){"use strict";var r=e("2GRf"),i=e("w4/W"),o=e("VU/8")(r.a,i.a,!1,null,null,null);o.options.__file="components/secure-position/index.vue",a.a=o.exports},"w4/W":function(t,a,e){"use strict";var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content"},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-half"},[e("div",{staticClass:"field"},[e("h3",{staticClass:"title is-3"},[t._v(t._s(t.$t(t.i18nPrefix+"block_place.title")))])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.canPermalink,expression:"canPermalink"}],staticClass:"column is-half"},[e("div",{staticClass:"field"},[e("nuxt-link",{staticClass:"level-right",attrs:{id:"permalink",to:t.permaLink,exact:""}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-link"})]),t._v("Â "+t._s(t.$t("utils.permalink")))])],1)])]),e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("div",{staticClass:"field"},[e("p",[t._v(t._s(t.$t("utils.description.p1")))])])])]),e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-half"},[e("b-field",{attrs:{label:t.$t(t.i18nPrefix+"block_place.level_cost"),"label-for":"splevelCost",type:t.haveError("levelCost")}},[e("b-input",{attrs:{type:"number",min:"0",name:"level-cost",id:"splevelCost",autocomplete:"off",disabled:t.haveInputLevelCost(),autofocus:t.canPermalink},model:{value:t.levelCost,callback:function(a){t.levelCost=t._n(a)},expression:"levelCost"}})],1)],1),e("div",{staticClass:"column is-half"},[e("b-field",{attrs:{label:t.$t(t.i18nPrefix+"block_place.current_deposits"),"label-for":"spCurrentDeposits",type:t.haveError("currentDeposits")}},[e("b-input",{attrs:{type:"number",min:"0",name:"current-deposits",id:"spCurrentDeposits",autocomplete:"off"},model:{value:t.currentDeposits,callback:function(a){t.currentDeposits=t._n(a)},expression:"currentDeposits"}})],1)],1)]),e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-half"},[e("b-field",{attrs:{label:t.$t(t.i18nPrefix+"block_place.your_participation"),"label-for":"spYourParticipation",type:t.haveError("yourParticipation")}},[e("b-input",{attrs:{type:"number",min:"0",name:"your-participation",id:"spYourParticipation",autocomplete:"off"},model:{value:t.yourParticipation,callback:function(a){t.yourParticipation=t._n(a)},expression:"yourParticipation"}})],1)],1),e("div",{staticClass:"column is-half"},[e("b-field",{attrs:{label:t.$t(t.i18nPrefix+"block_place.other_participation"),"label-for":"spOtherParticipation",type:t.haveError("otherParticipation")}},[e("b-input",{attrs:{type:"number",min:"0",name:"other-participation",id:"spOtherParticipation",autocomplete:"off"},model:{value:t.otherParticipation,callback:function(a){t.otherParticipation=t._n(a)},expression:"otherParticipation"}})],1)],1)]),e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-half"},[e("b-field",{attrs:{label:t.$t(t.i18nPrefix+"block_place.your_arc_bonus"),"label-for":"spYourArcBonus",type:t.haveError("yourArcBonus")}},[e("b-input",{attrs:{type:"number",min:"0",step:"0.1",name:"your-arc-bonus",id:"spYourArcBonus",autocomplete:"off"},model:{value:t.yourArcBonus,callback:function(a){t.yourArcBonus=t._n(a)},expression:"yourArcBonus"}})],1)],1),e("div",{staticClass:"column is-half"},[t.haveInputLevelCost()?e("b-field",{attrs:{label:t.$t(t.i18nPrefix+"block_place.target_reward"),"label-for":"fpTargetReward",type:t.haveError("fpTargetReward")}},[e("b-select",{attrs:{id:"fpTargetReward",name:"fp-target-reward",expanded:""},model:{value:t.fpTargetReward,callback:function(a){t.fpTargetReward=a},expression:"fpTargetReward"}},t._l(t.levelData.investment,function(a,r){return e("option",{key:r,attrs:{id:"option_"+r,autocomplete:"off"},domProps:{value:a.reward}},[t._v(t._s(t.$t(t.i18nPrefix+"block_place.place",{place:r+1,count:a.reward})))])}))],1):e("b-field",{attrs:{label:t.$t(t.i18nPrefix+"block_place.fp_target_reward"),"label-for":"spFpTargetReward",type:t.haveError("fpTargetReward")}},[e("b-input",{attrs:{type:"number",min:"0",step:"5",name:"fp-target-reward",id:"spFpTargetReward",autocomplete:"off"},model:{value:t.fpTargetReward,callback:function(a){t.fpTargetReward=t._n(a)},expression:"fpTargetReward"}})],1)],1)]),e("p",[t._v(t._s(t.$t(t.i18nPrefix+"block_place.fp_to_complete_level",{count:t.getNumberOfRemainingPoints()})))]),t.formValid?t.fp>0?e("div",[t.fp<=t.yourParticipation?e("p",[t._v(t._s(t.$t(t.i18nPrefix+"block_place.result.already_blocked")))]):e("p",[t._v(t._s(t.$t(t.i18nPrefix+"block_place.result.default",{count:t.fp})))]),t.fp>=t.yourParticipation&&t.fp-t.yourParticipation>0&&t.yourParticipation>0?e("p",[t._v(t._s(t.$t(t.i18nPrefix+"block_place.result.fp_to_secure_html",{count:t.fp-t.yourParticipation})))]):t._e()]):e("p",[t._v(t._s(t.$t(t.i18nPrefix+"block_place.result.cant_block")))]):e("p",[t._v(t._s(t.$t(t.i18nPrefix+"block_place.result.error")))]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.fp>0&&t.yourArcBonus>=0&&t.fpTargetReward>0,expression:"(fp > 0) && (yourArcBonus >= 0) && (fpTargetReward > 0)"}],staticClass:"margin-top-one-em"},[e("article",{staticClass:"message",class:{"is-success":t.roi>0,"is-danger":t.roi<0}},[e("div",{staticClass:"message-body has-text-dark"},[t.roi>0?e("p",[t._m(0),t._v(t._s(t.$t(t.i18nPrefix+"block_place.result.roi.profit",{count:Math.abs(t.roi)})))]):t.roi<0?e("p",[t._m(1),t._v(t._s(t.$t(t.i18nPrefix+"block_place.result.roi.loss",{count:Math.abs(t.roi)})))]):e("p",[t._m(2),t._v(t._s(t.$t(t.i18nPrefix+"block_place.result.roi.neutral")))])])])])])};r._withStripped=!0;var i={render:r,staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("span",{staticClass:"icon is-medium has-text-success",staticStyle:{"vertical-align":"middle"}},[a("i",{staticClass:"fas fa-arrow-up"})])},function(){var t=this.$createElement,a=this._self._c||t;return a("span",{staticClass:"icon is-medium has-text-danger",staticStyle:{"vertical-align":"middle"}},[a("i",{staticClass:"fas fa-arrow-down"})])},function(){var t=this.$createElement,a=this._self._c||t;return a("span",{staticClass:"icon is-medium",staticStyle:{"vertical-align":"middle"}},[a("i",{staticClass:"fas fa-exchange-alt"})])}]};a.a=i}});